{"is_source_file": true, "format": "JavaScript", "description": "This file defines a centralized API client for a React.js frontend. It reads the API base URL from environment variables, provides helper functions for constructing URLs with query parameters, obtaining an authentication token from local storage, and making secure API requests with JSON handling. It exports several functions to interact with backend endpoints related to authentication, products, orders, and inventory management.", "external_files": ["https://fetch.spec.whatwg.org/", "localStorage", "window.location"], "external_methods": ["fetch", "localStorage.getItem", "window.location.origin"], "published": ["apiRequest", "api"], "classes": [], "methods": [{"name": "withQuery(path, params = {})", "description": "Constructs a URL with provided query parameters appended to the base path.", "scope": "", "scopeKind": ""}, {"name": "getToken()", "description": "Retrieves the stored authentication token from local storage.", "scope": "", "scopeKind": ""}, {"name": "apiRequest(path, { method = 'GET', params, body, headers } = {})", "description": "Performs an HTTP request to the API with proper headers, query params, and JSON handling. Throws an error for non-OK responses.", "scope": "", "scopeKind": ""}], "calls": ["fetch", "localStorage.getItem", "Object.entries", "url.searchParams.set", "res.headers.get", "res.json", "res.text"], "search-terms": ["client.js", "apiRequest", "React_APP_API_BASE", "authorization", "localStorage", "fetch", "api", "auth_token"], "state": 2, "file_id": 13, "knowledge_revision": 30, "git_revision": "", "ctags": [{"_type": "tag", "name": "API_BASE", "path": "/home/kavia/workspace/code-generation/elegant-womens-clothing-platform-209941-209951/frontend_react_js/src/api/client.js", "pattern": "/^const API_BASE =$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "Content-Type", "path": "/home/kavia/workspace/code-generation/elegant-womens-clothing-platform-209941-209951/frontend_react_js/src/api/client.js", "pattern": "/^    'Content-Type': 'application\\/json',$/", "language": "JavaScript", "kind": "property", "scope": "apiRequest.finalHeaders", "scopeKind": "class"}, {"_type": "tag", "name": "api", "path": "/home/kavia/workspace/code-generation/elegant-womens-clothing-platform-209941-209951/frontend_react_js/src/api/client.js", "pattern": "/^export const api = {$/", "language": "JavaScript", "kind": "class"}, {"_type": "tag", "name": "apiRequest", "path": "/home/kavia/workspace/code-generation/elegant-womens-clothing-platform-209941-209951/frontend_react_js/src/api/client.js", "pattern": "/^export async function apiRequest(path, { method = 'GET', params, body, headers } = {}) {$/", "language": "JavaScript", "kind": "function", "signature": "(path, { method = 'GET', params, body, headers } = {})"}, {"_type": "tag", "name": "createOrder", "path": "/home/kavia/workspace/code-generation/elegant-womens-clothing-platform-209941-209951/frontend_react_js/src/api/client.js", "pattern": "/^  createOrder: (payload) => apiRequest('\\/api\\/orders', { method: 'POST', body: payload }),$/", "language": "JavaScript", "kind": "property", "scope": "api", "scopeKind": "class"}, {"_type": "tag", "name": "createProduct", "path": "/home/kavia/workspace/code-generation/elegant-womens-clothing-platform-209941-209951/frontend_react_js/src/api/client.js", "pattern": "/^  createProduct: (payload) => apiRequest('\\/api\\/admin\\/products', { method: 'POST', body: paylo/", "language": "JavaScript", "kind": "property", "scope": "api", "scopeKind": "class"}, {"_type": "tag", "name": "deleteProduct", "path": "/home/kavia/workspace/code-generation/elegant-womens-clothing-platform-209941-209951/frontend_react_js/src/api/client.js", "pattern": "/^  deleteProduct: (id) => apiRequest(`\\/api\\/admin\\/products\\/${id}`, { method: 'DELETE' }),$/", "language": "JavaScript", "kind": "property", "scope": "api", "scopeKind": "class"}, {"_type": "tag", "name": "finalHeaders", "path": "/home/kavia/workspace/code-generation/elegant-womens-clothing-platform-209941-209951/frontend_react_js/src/api/client.js", "pattern": "/^  const finalHeaders = {$/", "language": "JavaScript", "kind": "class", "scope": "apiRequest", "scopeKind": "class"}, {"_type": "tag", "name": "getProduct", "path": "/home/kavia/workspace/code-generation/elegant-womens-clothing-platform-209941-209951/frontend_react_js/src/api/client.js", "pattern": "/^  getProduct: (id) => apiRequest(`\\/api\\/products\\/${id}`),$/", "language": "JavaScript", "kind": "property", "scope": "api", "scopeKind": "class"}, {"_type": "tag", "name": "getToken", "path": "/home/kavia/workspace/code-generation/elegant-womens-clothing-platform-209941-209951/frontend_react_js/src/api/client.js", "pattern": "/^function getToken() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "listOrders", "path": "/home/kavia/workspace/code-generation/elegant-womens-clothing-platform-209941-209951/frontend_react_js/src/api/client.js", "pattern": "/^  listOrders: (opts) => apiRequest('\\/api\\/orders', { params: opts }),$/", "language": "JavaScript", "kind": "property", "scope": "api", "scopeKind": "class"}, {"_type": "tag", "name": "listProducts", "path": "/home/kavia/workspace/code-generation/elegant-womens-clothing-platform-209941-209951/frontend_react_js/src/api/client.js", "pattern": "/^  listProducts: (opts) => apiRequest('\\/api\\/products', { params: opts }),$/", "language": "JavaScript", "kind": "property", "scope": "api", "scopeKind": "class"}, {"_type": "tag", "name": "login", "path": "/home/kavia/workspace/code-generation/elegant-womens-clothing-platform-209941-209951/frontend_react_js/src/api/client.js", "pattern": "/^  login: (email, password) => apiRequest('\\/api\\/admin\\/login', { method: 'POST', body: { email,/", "language": "JavaScript", "kind": "property", "scope": "api", "scopeKind": "class"}, {"_type": "tag", "name": "logout", "path": "/home/kavia/workspace/code-generation/elegant-womens-clothing-platform-209941-209951/frontend_react_js/src/api/client.js", "pattern": "/^  logout: () => apiRequest('\\/api\\/admin\\/logout', { method: 'POST' }),$/", "language": "JavaScript", "kind": "property", "scope": "api", "scopeKind": "class"}, {"_type": "tag", "name": "updateOrderStatus", "path": "/home/kavia/workspace/code-generation/elegant-womens-clothing-platform-209941-209951/frontend_react_js/src/api/client.js", "pattern": "/^  updateOrderStatus: (id, status) => apiRequest(`\\/api\\/orders\\/${id}\\/status`, { method: 'PUT',/", "language": "JavaScript", "kind": "property", "scope": "api", "scopeKind": "class"}, {"_type": "tag", "name": "updateProduct", "path": "/home/kavia/workspace/code-generation/elegant-womens-clothing-platform-209941-209951/frontend_react_js/src/api/client.js", "pattern": "/^  updateProduct: (id, payload) => apiRequest(`\\/api\\/admin\\/products\\/${id}`, { method: 'PUT', b/", "language": "JavaScript", "kind": "property", "scope": "api", "scopeKind": "class"}, {"_type": "tag", "name": "withQuery", "path": "/home/kavia/workspace/code-generation/elegant-womens-clothing-platform-209941-209951/frontend_react_js/src/api/client.js", "pattern": "/^function withQuery(path, params = {}) {$/", "language": "JavaScript", "kind": "function", "signature": "(path, params = {})"}], "hash": "c1f727c20a4c739980879afbb9f4a552", "format-version": 4, "code-base-name": "frontend_react_js", "filename": "frontend_react_js/src/api/client.js", "fields": [{"name": "'Content-Type': 'application\\/json',", "scope": "apiRequest.finalHeaders", "scopeKind": "class", "description": "unavailable"}, {"name": "createOrder: (payload) => apiRequest('\\/api\\/orders', { method: 'POST', body: payload }),", "scope": "api", "scopeKind": "class", "description": "unavailable"}, {"name": "createProduct: (payload) => apiRequest('\\/api\\/admin\\/products', { method: 'POST', body: paylo/", "scope": "api", "scopeKind": "class", "description": "unavailable"}, {"name": "deleteProduct: (id) => apiRequest(`\\/api\\/admin\\/products\\/${id}`, { method: 'DELETE' }),", "scope": "api", "scopeKind": "class", "description": "unavailable"}, {"name": "getProduct: (id) => apiRequest(`\\/api\\/products\\/${id}`),", "scope": "api", "scopeKind": "class", "description": "unavailable"}, {"name": "listOrders: (opts) => apiRequest('\\/api\\/orders', { params: opts }),", "scope": "api", "scopeKind": "class", "description": "unavailable"}, {"name": "listProducts: (opts) => apiRequest('\\/api\\/products', { params: opts }),", "scope": "api", "scopeKind": "class", "description": "unavailable"}, {"name": "login: (email, password) => apiRequest('\\/api\\/admin\\/login', { method: 'POST', body: { email,/", "scope": "api", "scopeKind": "class", "description": "unavailable"}, {"name": "logout: () => apiRequest('\\/api\\/admin\\/logout', { method: 'POST' }),", "scope": "api", "scopeKind": "class", "description": "unavailable"}, {"name": "updateOrderStatus: (id, status) => apiRequest(`\\/api\\/orders\\/${id}\\/status`, { method: 'PUT',/", "scope": "api", "scopeKind": "class", "description": "unavailable"}, {"name": "updateProduct: (id, payload) => apiRequest(`\\/api\\/admin\\/products\\/${id}`, { method: 'PUT', b/", "scope": "api", "scopeKind": "class", "description": "unavailable"}], "revision_history": [{"30": ""}]}